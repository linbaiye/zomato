<ng-include src="'static/html/header.html'"></ng-include>
<div id="search-body" class="container-fluid"  ng-controller="SearchCriteriaController as vm">
	<div class="row">
		<div class="col-xs-12">
			<h2><strong>Dinner in Sydney</strong></h2>
		</div>
		<div class="col-md-2 col1">
			<div class="col-xs-12  container-style">
				<h4><strong>Filters</strong></h4>
				<hr/>
				<div class="criterion category">
					<p class="title"><strong>Category</strong></p>
					<p ng-repeat="item in vm.search.categoryList" ng-click="vm.clickCategory(item.name)"
							class="clickable item {{item.name == vm.checkedCategory ? 'active': ''}}">
							<span>{{item.name}}</span> <span class="stats-value grey-text">{{item.count}}</span>
					</p>
				</div>
				<div class="criterion">
					<p class="title"><strong>Cuisine</strong></p>
					<p class="clickable item" ng-repeat="item in vm.search.first10Cuisines">
						<span>{{item.name}}</span> <span class="stats-value grey-text">{{item.count}}</span>
					</p>
				</div>
				<div class="criterion">
					<p class="title"><strong>Location</strong></p>
					<p class="clickable item" ng-repeat="item in vm.search.placeList">
						<span>{{item.district}}</span> <span class="stats-value grey-text">{{item.count}}</span>
					</p>
				</div>
			</div>
		</div>
		<div class="col-md-6">
			<div class="col-xs-12 nopadding">
				<div ng-repeat="item in vm.data.restaurantList" class="restaurant">
					<div class="basic-info-box col-xs-12">
						<div class="basic-info">
							<div ng-style="{'background-image': 'url(' + item.thumbImageUrl + ')'}" class="center-bgimg thumb col-md-3"></div>
							<p class="restaurant-rate nopadding {{item.rate | rateClass}} col-md-1">{{!item.rate ? "-" : item.rate.toFixed(1)}}</p>
							<div class="text-info col-md-8">
								<p class="name">{{item.name}}</p>
								<p class="district">{{item.address | getDistrict}}</p>
								<p class="address grey-text">{{item.address}}</p>
							</div>
						</div>
					</div>
					<div class="info-row-2 col-xs-12">
						<div class="info-line">
							<p class="key col-xs-4 grey-text">CUISINES:</p><p class="value col-xs-8">{{item.cuisineSet | joinNameOfList}}</p>
							<p class="key col-xs-4 grey-text">TODAY'S HOURS:</p><p class="value col-xs-8">{{item.todayHours}}</p>
							<p class="key col-xs-4 grey-text">COST FOR TWO:</p><p class="value col-xs-8">A${{item.costForTwo}}</p>
							<div class="{{(!item.featureList || item.featureList.length == 0) ? 'nodisplay':''}}">
								<p class="key col-xs-4 grey-text">FEATURED IN:</p><p class="value col-xs-8">{{item.featureList | joinNameOfList}}</p>
							</div>
						</div>
					</div>
					<div class="info-row-3 col-xs-12">
						<div class="phone col-xs-6">PHONE</div>
						<div class="table-book-button col-xs-6">BOOK A TABLE</div>
					</div>
				</div>
			</div>
			<div ng-show="vm.data" class="col-xs-12">
				<ul uib-pagination boundary-links="true" ng-change="vm.pageChanged()" max-size="10" total-items="vm.data.total" ng-model="vm.data.currentPage" class="pagination-sm" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></ul>
			</div>
		</div>
		<div class="col-md-3 col3" ng-controller="RecommandRestaurantController as vm" id="recommand-restaurants">
			<div ng-repeat="(name, data) in vm.data" class="container-style">
				<div class="inner box">
					<div class="col-xs-12 nopadding">
						<h3 class="recommand-type">
							<strong>{{data.text.title}}</strong>
						</h3>
						<p class="grey-text">
							{{data.text.desc}}
						</p>
					</div>
					<div ng-repeat="r in data.restaurantList" class="col-xs-12 nopadding box">
						<div ng-repeat="item in r" class="col-xs-4 box">
							<div class="restaurant-box box col-{{$index % 3}}">
								<div ng-style="{'background-image': 'url(' + item.thumbImageUrl + ')'}" class="center-bgimg thumb">
									<p class="restaurant-rate nopadding {{item.rate | rateClass}} col-md-1">{{!item.rate ? "-" : item.rate.toFixed(1)}}</p>
								</div>
								<p class="restaurant-name">
									{{item.name}}
								</p>
								<p class="restaurant-addr grey-text">
									{{item.address.textAddress | getDistrict }}
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div ng-include="'static/html/footer.html'"></div>
